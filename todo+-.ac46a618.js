let t="https://696f53afa06046ce618642cd.mockapi.io/purchases",e=t;window.addEventListener("DOMContentLoaded",()=>{let s,a,n,c=document.querySelector(".header"),i=[];async function o(t){let c,o=document.querySelector(".container-tasks:not(.hidden), .container-purchases:not(.hidden)").querySelector(".loader");o.classList.remove("hidden");let l=await fetch(t),r=await l.json();r?(i=r,o.classList.add("hidden"),s=(c=document.querySelector(".container-tasks:not(.hidden), .container-purchases:not(.hidden)")).querySelector(".task-box__input"),n=c.querySelector(".task-box__btn"),(a=c.querySelector(".todos")).innerHTML="",i.forEach((t,e)=>{let s=`${t.text.slice(0,1).toUpperCase()}${t.text.slice(1)}`,n=document.createElement("div");n.setAttribute("id",t.id),n.classList.add("todoblock");let c=document.createElement("span");c.classList.add("todos__item"),c.textContent=`${e+1}. ${s}`;let i=document.createElement("span");i.classList.add("important"),i.innerHTML=t.important?"★":"☆",t.important&&i.classList.add("active");let o=document.createElement("span");o.classList.add("del"),n.append(c,i,o),a.append(n)}),n.onclick=()=>d(e),s.onkeydown=t=>{"Enter"===t.key&&d(e)},s.value=""):i=[]}async function d(t){if(""===s.value)s.focus();else{let e=s.value;await fetch(t,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})}),o(t)}}async function l(t,e){await fetch(`${t}/${e}`,{method:"DELETE"}),o(t)}async function r(t,e,s){await fetch(`${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({important:s})})}document.addEventListener("click",t=>{let s=t.target,a=s.closest(".todoblock");if(!a)return;let n=a.getAttribute("id");if(s.classList.contains("del")&&l(e,n),s.classList.contains("important")){s.classList.toggle("active");let t=s.classList.contains("active");s.innerHTML=t?"★":"☆",r(e,n,t)}s.classList.contains("todos__item")&&s.classList.toggle("expanded")}),c.addEventListener("click",s=>{let a=document.querySelector(".main-title"),n=document.querySelector(".container-purchases"),c=document.querySelector(".container-tasks");s.target.classList.contains("task")&&(e="https://696f53afa06046ce618642cd.mockapi.io/tasks",a.classList.add("hidden"),c.classList.remove("hidden"),n.classList.add("hidden"),o(e)),s.target.classList.contains("purchases")&&(e=t,a.classList.add("hidden"),c.classList.add("hidden"),n.classList.remove("hidden"),o(e))})});
//# sourceMappingURL=todo+-.ac46a618.js.map
