let t=document.querySelector(".task-box__input"),e=document.querySelector(".task-box__btn"),a=document.querySelector(".todos");t.focus();let s=[];async function o(){loader.classList.remove("hidden");let e=await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks"),o=await e.json();console.log(o),o?(s=o,loader.classList.add("hidden"),a.innerHTML="",s.forEach((t,e)=>{let s=`${t.text.slice(0,1).toUpperCase()}${t.text.slice(1)}`,o=document.createElement("div");o.setAttribute("id",t.id),o.classList.add("todoblock");let c=document.createElement("span");c.classList.add("todos__item");let n=document.createElement("span");n.classList.add("del"),o.append(c),o.append(n),c.textContent=`${e+1}. ${s}`,a.append(o)}),t.value="",t.focus()):s=[]}async function c(){if(""===t.value)t.focus();else{let e=t.value;await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})}),o()}}async function n(t){await fetch(`https://696f53afa06046ce618642cd.mockapi.io/tasks/${t}`,{method:"DELETE"}),o()}o(),t.addEventListener("keydown",t=>{"Enter"===t.key&&c()}),e.addEventListener("click",c),a.addEventListener("click",t=>{console.log(t.target),t.target.classList.contains("del")&&n(t.target.closest(".todoblock").getAttribute("id")),t.target.classList.contains("todos__item")&&t.target.classList.toggle("expanded")});
//# sourceMappingURL=todo+-.5beea2eb.js.map
