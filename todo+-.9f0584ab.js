let t=document.querySelector(".task-box__input"),e=document.querySelector(".task-box__btn"),a=document.querySelector(".todos");t.focus();let s=[];async function c(){loader.classList.remove("hidden");let e=await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks"),c=await e.json();c?(s=c,loader.classList.add("hidden"),console.log(s),a.innerHTML="",s.forEach((t,e)=>{let s=`${t.text.slice(0,1).toUpperCase()}${t.text.slice(1)}`,c=document.createElement("div");c.setAttribute("id",t.id),c.classList.add("todoblock");let n=document.createElement("span");n.classList.add("todos__item"),n.textContent=`${e+1}. ${s}`;let i=document.createElement("span");i.classList.add("important"),t.important&&i.classList.add("active");let o=i.classList.contains("active");i.innerHTML=o?"★":"☆";let d=document.createElement("span");d.classList.add("del"),c.append(n),c.append(i),c.append(d),a.append(c)}),t.value="",t.focus()):s=[]}async function n(){if(""===t.value)t.focus();else{let e=t.value;await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})}),c()}}async function i(t){await fetch(`https://696f53afa06046ce618642cd.mockapi.io/tasks/${t}`,{method:"DELETE"}),c()}async function o(t,e){await fetch(`https://696f53afa06046ce618642cd.mockapi.io/tasks/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({important:e})})}c(),t.addEventListener("keydown",t=>{"Enter"===t.key&&n()}),e.addEventListener("click",n),a.addEventListener("click",t=>{let e=t.target,a=e.closest(".todoblock").getAttribute("id");if(e.classList.contains("del")&&i(a),e.classList.contains("todos__item")&&e.classList.toggle("expanded"),e.classList.contains("important")){e.classList.toggle("active");let t=e.classList.contains("active");e.innerHTML=t?"★":"☆",o(a,t)}});
//# sourceMappingURL=todo+-.9f0584ab.js.map
