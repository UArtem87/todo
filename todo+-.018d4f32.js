let t=document.querySelector(".task-box__input"),e=document.querySelector(".task-box__btn"),a=document.querySelector(".todos");t.focus();let s=[];async function c(){loader.classList.remove("hidden");let e=await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks"),c=await e.json();console.log(c),c?(s=c,loader.classList.add("hidden"),a.innerHTML="",s.forEach((t,e)=>{let s=`${t.text.slice(0,1).toUpperCase()}${t.text.slice(1)}`,c=document.createElement("div");c.setAttribute("id",t.id),c.classList.add("todoblock");let o=document.createElement("span");o.classList.add("todos__item");let n=document.createElement("span");n.classList.add("del"),c.append(o),c.append(n),o.textContent=`${e+1}. ${s}`,a.append(c)}),t.value="",t.focus()):s=[]}async function o(){if(""===t.value)t.focus();else{let e=t.value;await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})}),c()}}async function n(t){await fetch(`https://696f53afa06046ce618642cd.mockapi.io/tasks/${t}`,{method:"DELETE"}),c()}c(),t.addEventListener("keydown",t=>{"Enter"===t.key&&o()}),e.addEventListener("click",o),a.addEventListener("click",t=>{t.target.classList.contains("del")&&n(t.target.closest(".todoblock").getAttribute("id"))});
//# sourceMappingURL=todo+-.018d4f32.js.map
