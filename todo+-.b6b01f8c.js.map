{"mappings":"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","sources":["<anon>","src/script.js"],"sourcesContent":["var $b63be9b0371e788c$exports = {};\nconst $b63be9b0371e788c$var$tasksAdress = 'https://696f53afa06046ce618642cd.mockapi.io/tasks';\nconst $b63be9b0371e788c$var$purchasesAdress = 'https://696f53afa06046ce618642cd.mockapi.io/purchases';\nlet $b63be9b0371e788c$var$currentAdress = $b63be9b0371e788c$var$purchasesAdress;\nwindow.addEventListener('DOMContentLoaded', ()=>{\n    const header = document.querySelector('.header');\n    let data;\n    let todos;\n    let save;\n    let toDoList = [];\n    async function getList(adress) {\n        const activeBox = document.querySelector('.container-tasks:not(.hidden), .container-purchases:not(.hidden)');\n        let loader = activeBox.querySelector('.loader');\n        loader.classList.remove('hidden');\n        const response = await fetch(adress);\n        const dataList = await response.json();\n        if (dataList) {\n            toDoList = dataList;\n            loader.classList.add('hidden');\n            renderToDo();\n        } else toDoList = [];\n    }\n    async function setToDo(adress) {\n        if (data.value === '') data.focus();\n        else {\n            const task = data.value;\n            await fetch(adress, {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify({\n                    text: task\n                })\n            });\n            getList(adress);\n        }\n    }\n    function renderToDo() {\n        const activeBox = document.querySelector('.container-tasks:not(.hidden), .container-purchases:not(.hidden)');\n        data = activeBox.querySelector('.task-box__input');\n        save = activeBox.querySelector('.task-box__btn');\n        todos = activeBox.querySelector('.todos');\n        todos.innerHTML = '';\n        toDoList.forEach((todo, i)=>{\n            const task = `${todo.text.slice(0, 1).toUpperCase()}${todo.text.slice(1)}`;\n            const toDoBlock = document.createElement('div');\n            toDoBlock.setAttribute('id', todo.id);\n            toDoBlock.classList.add('todoblock');\n            const toDoItem = document.createElement('span');\n            toDoItem.classList.add('todos__item');\n            toDoItem.textContent = `${i + 1}. ${task}`;\n            let important = document.createElement('span');\n            important.classList.add('important');\n            important.innerHTML = todo.important ? \"\\u2605\" : \"\\u2606\";\n            if (todo.important) important.classList.add('active');\n            let del = document.createElement('span');\n            del.classList.add('del');\n            toDoBlock.append(toDoItem, important, del);\n            todos.append(toDoBlock);\n        });\n        save.onclick = ()=>setToDo($b63be9b0371e788c$var$currentAdress);\n        data.onkeydown = (e)=>{\n            if (e.key === 'Enter') setToDo($b63be9b0371e788c$var$currentAdress);\n        };\n        data.value = '';\n        data.focus();\n        todos.addEventListener('click', (e)=>{\n            const el = e.target;\n            const parent = el.closest('.todoblock');\n            const id = parent.getAttribute('id');\n            if (el.classList.contains('del')) deleteTask($b63be9b0371e788c$var$currentAdress, id);\n            if (el.classList.contains('important')) {\n                el.classList.toggle('active');\n                const status = el.classList.contains('active');\n                el.innerHTML = status ? \"\\u2605\" : \"\\u2606\";\n                madeImportant($b63be9b0371e788c$var$currentAdress, id, status);\n            }\n            if (el.classList.contains('todos__item')) el.classList.toggle('expanded');\n        });\n    }\n    async function deleteTask(adress, taskId) {\n        await fetch(`${adress}/${taskId}`, {\n            method: 'DELETE'\n        });\n        getList(adress);\n    }\n    async function madeImportant(adress, taskId, status) {\n        await fetch(`${adress}/${taskId}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                important: status\n            })\n        });\n    }\n    header.addEventListener('click', (e)=>{\n        const mainTitle = document.querySelector('.main-title');\n        const purchases = document.querySelector('.container-purchases');\n        const tasks = document.querySelector('.container-tasks');\n        if (e.target.classList.contains('task')) {\n            $b63be9b0371e788c$var$currentAdress = $b63be9b0371e788c$var$tasksAdress;\n            mainTitle.classList.add('hidden');\n            tasks.classList.remove('hidden');\n            purchases.classList.add('hidden');\n            getList($b63be9b0371e788c$var$currentAdress);\n        }\n        if (e.target.classList.contains('purchases')) {\n            $b63be9b0371e788c$var$currentAdress = $b63be9b0371e788c$var$purchasesAdress;\n            mainTitle.classList.add('hidden');\n            tasks.classList.add('hidden');\n            purchases.classList.remove('hidden');\n            getList($b63be9b0371e788c$var$currentAdress);\n        }\n    });\n});\n\n\n//# sourceMappingURL=todo+-.b6b01f8c.js.map\n","const tasksAdress = 'https://696f53afa06046ce618642cd.mockapi.io/tasks';\nconst purchasesAdress = 'https://696f53afa06046ce618642cd.mockapi.io/purchases';\n\nlet currentAdress = purchasesAdress;\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n\n  const header = document.querySelector('.header');\n\n  let data;\n  let todos;\n  let save;\n\n  let toDoList = [];\n\n  async function getList(adress) {\n    const activeBox = document.querySelector('.container-tasks:not(.hidden), .container-purchases:not(.hidden)');\n    let loader = activeBox.querySelector('.loader');\n    loader.classList.remove('hidden');\n\n    const response = await fetch(adress);\n    const dataList = await response.json();\n\n    if (dataList) {\n      toDoList = dataList;\n      loader.classList.add('hidden');\n\n      renderToDo();\n    } else {\n      toDoList = [];\n    }\n  };\n\n  async function setToDo(adress) {\n    if (data.value === '') {\n      data.focus();\n    } else {\n      const task = data.value;\n\n      await fetch(adress, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json' },\n        body: JSON.stringify({ text: task })\n      });\n\n      getList(adress);\n    }\n  }\n\n  function renderToDo() {\n    const activeBox = document.querySelector('.container-tasks:not(.hidden), .container-purchases:not(.hidden)');\n    data = activeBox.querySelector('.task-box__input');\n    save = activeBox.querySelector('.task-box__btn');\n    todos = activeBox.querySelector('.todos');\n    todos.innerHTML = '';\n    toDoList.forEach((todo, i) => {\n      const task = `${todo.text.slice(0, 1).toUpperCase()}${todo.text.slice(1)}`;\n\n      const toDoBlock = document.createElement('div');\n      toDoBlock.setAttribute('id', todo.id);\n      toDoBlock.classList.add('todoblock');\n\n      const toDoItem = document.createElement('span');\n      toDoItem.classList.add('todos__item');\n      toDoItem.textContent = `${i + 1}. ${task}`;\n\n      let important = document.createElement('span');\n      important.classList.add('important');\n      important.innerHTML = todo.important ? '★' : '☆';\n\n      if (todo.important) {\n        important.classList.add('active');\n      }\n\n\n      let del = document.createElement('span');\n      del.classList.add('del');\n\n      toDoBlock.append(toDoItem, important, del);\n      todos.append(toDoBlock);\n    });\n\n    save.onclick = () => setToDo(currentAdress);\n    data.onkeydown = (e) => {\n      if (e.key === 'Enter') {\n        setToDo(currentAdress);\n      }\n    };\n\n    data.value = '';\n    data.focus();\n\n    todos.addEventListener('click', (e) => {\n      const el = e.target;\n      const parent = el.closest('.todoblock');\n      const id = parent.getAttribute('id');\n\n      if (el.classList.contains('del')) {\n        deleteTask(currentAdress, id);\n      }\n\n      if (el.classList.contains('important')) {\n        el.classList.toggle('active');\n        const status = el.classList.contains('active');\n        el.innerHTML = status ? '★' : '☆';\n        madeImportant(currentAdress, id, status);\n      }\n\n      if (el.classList.contains('todos__item')) {\n        el.classList.toggle('expanded');\n      }\n    });\n  };\n\n\n  async function deleteTask(adress, taskId) {\n    await fetch(`${adress}/${taskId}`, {\n      method: 'DELETE'\n    });\n    getList(adress);\n  }\n\n  async function madeImportant(adress, taskId, status) {\n    await fetch(`${adress}/${taskId}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ important: status })\n    });\n  }\n\n  header.addEventListener('click', (e) => {\n    const mainTitle = document.querySelector('.main-title');\n    const purchases = document.querySelector('.container-purchases');\n    const tasks = document.querySelector('.container-tasks');\n\n    if (e.target.classList.contains('task')) {\n      currentAdress = tasksAdress;\n      mainTitle.classList.add('hidden');\n      tasks.classList.remove('hidden');\n      purchases.classList.add('hidden');\n      getList(currentAdress);\n    }\n\n    if (e.target.classList.contains('purchases')) {\n      currentAdress = purchasesAdress;\n      mainTitle.classList.add('hidden');\n      tasks.classList.add('hidden');\n      purchases.classList.remove('hidden');\n      getList(currentAdress);\n    }\n  });\n});"],"names":["$b63be9b0371e788c$var$purchasesAdress","$b63be9b0371e788c$var$currentAdress","window","addEventListener","data","todos","save","header","document","querySelector","toDoList","getList","adress","activeBox","loader","classList","remove","response","fetch","dataList","json","add","innerHTML","forEach","todo","i","task","text","slice","toUpperCase","toDoBlock","createElement","setAttribute","id","toDoItem","textContent","important","del","append","onclick","setToDo","onkeydown","e","key","value","focus","el","target","parent","closest","getAttribute","contains","deleteTask","toggle","status","madeImportant","method","headers","body","JSON","stringify","taskId","mainTitle","purchases","tasks"],"version":3,"file":"todo+-.b6b01f8c.js.map"}