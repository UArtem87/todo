let t=document.querySelector(".task-box__input"),e=document.querySelector(".task-box__btn"),a=document.querySelector(".todos");t.focus();let c=[];async function o(){let e=await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks"),o=await e.json();o?(console.log(c=o),a.innerHTML="",c.forEach((t,e)=>{let c=`${t.text.slice(0,1).toUpperCase()}${t.text.slice(1)}`,o=document.createElement("div");o.setAttribute("id",t.id),o.classList.add("todoblock");let s=document.createElement("span");s.classList.add("todos__item");let n=document.createElement("span");n.classList.add("del"),o.append(s),o.append(n),s.textContent=`${e+1}. ${c}`,a.append(o)}),t.value="",t.focus()):c=[]}async function s(){if(""===t.value)t.focus();else{let e=t.value;await fetch("https://696f53afa06046ce618642cd.mockapi.io/tasks",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e})}),o()}}async function n(t){await fetch(`https://696f53afa06046ce618642cd.mockapi.io/tasks/${t}`,{method:"DELETE"}),o()}o(),t.addEventListener("keydown",t=>{"Enter"===t.key&&s()}),e.addEventListener("click",s),a.addEventListener("click",t=>{t.target.classList.contains("del")&&n(t.target.closest(".todoblock").getAttribute("id"))});
//# sourceMappingURL=todo+-.86e1a80d.js.map
