{"mappings":"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","sources":["<anon>","src/script.js"],"sourcesContent":["var $b63be9b0371e788c$exports = {};\nconst $b63be9b0371e788c$var$TASKSADRESS = 'https://696f53afa06046ce618642cd.mockapi.io/tasks';\nconst $b63be9b0371e788c$var$PURCHASESADRESS = 'https://696f53afa06046ce618642cd.mockapi.io/purchases';\nwindow.addEventListener('DOMContentLoaded', ()=>{\n    let itemsList = [];\n    let currentAdress = $b63be9b0371e788c$var$PURCHASESADRESS;\n    const header = document.querySelector('.header');\n    const container = document.querySelector('.container');\n    const title = document.querySelector('.title');\n    const loader = document.querySelector('.loader');\n    const data = document.querySelector('.data__input');\n    const save = document.querySelector('.data__btn');\n    const items = document.querySelector('.items');\n    async function getList(adress) {\n        if (adress === $b63be9b0371e788c$var$TASKSADRESS) title.textContent = \"\\u041D\\u0430\\u0434\\u043E \\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C:\";\n        else title.textContent = \"\\u041D\\u0430\\u0434\\u043E \\u043A\\u0443\\u043F\\u0438\\u0442\\u044C:\";\n        loader.classList.remove('not-view');\n        const response = await fetch(adress);\n        const dataList = await response.json();\n        if (dataList) {\n            itemsList = [];\n            dataList.forEach((item)=>{\n                item.important ? itemsList.unshift(item) : itemsList.push(item);\n            });\n            loader.classList.add('not-view');\n            renderItems();\n        } else itemsList = [];\n    }\n    function renderItems() {\n        items.innerHTML = '';\n        itemsList.forEach((item, i)=>{\n            const itemText = `${item.text.slice(0, 1).toUpperCase()}${item.text.slice(1)}`;\n            const itemBlock = document.createElement('div');\n            itemBlock.setAttribute('id', item.id);\n            itemBlock.classList.add('items__block');\n            const itemsBlockTitle = document.createElement('span');\n            itemsBlockTitle.classList.add('items__block--title');\n            itemsBlockTitle.textContent = `${i + 1}. ${itemText}`;\n            const important = document.createElement('span');\n            important.classList.add('important');\n            important.innerHTML = item.important ? \"\\u2605\" : \"\\u2606\";\n            if (item.important) important.classList.add('active');\n            const del = document.createElement('span');\n            del.classList.add('del');\n            itemBlock.append(itemsBlockTitle, important, del);\n            items.append(itemBlock);\n        });\n        data.value = '';\n        items.classList.remove('faded');\n    }\n    async function setItem(adress) {\n        if (data.value === '') data.focus();\n        else {\n            const item = data.value;\n            await fetch(adress, {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify({\n                    text: item\n                })\n            });\n            getList(adress);\n        }\n    }\n    async function deleteItem(adress, taskId) {\n        await fetch(`${adress}/${taskId}`, {\n            method: 'DELETE'\n        });\n        getList(adress);\n    }\n    async function madeImportant(adress, taskId, status) {\n        await fetch(`${adress}/${taskId}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                important: status\n            })\n        });\n        getList(adress);\n    }\n    document.addEventListener('click', (e)=>{\n        const el = e.target;\n        const parent = el.closest('.items__block');\n        if (!parent) return;\n        const id = parent.getAttribute('id');\n        if (el.classList.contains('del')) {\n            parent.classList.add('delete');\n            deleteItem(currentAdress, id);\n        }\n        if (el.classList.contains('important')) {\n            el.classList.toggle('active');\n            const status = el.classList.contains('active');\n            el.innerHTML = status ? \"\\u2605\" : \"\\u2606\";\n            madeImportant(currentAdress, id, status);\n        }\n        if (el.classList.contains('items__block--title')) el.classList.toggle('expanded');\n    });\n    save.onclick = ()=>setItem(currentAdress);\n    data.onkeydown = (e)=>{\n        if (e.key === 'Enter') setItem(currentAdress);\n    };\n    header.addEventListener('click', (e)=>{\n        const isTasks = e.target.classList.contains('tasks');\n        const isPurchases = e.target.classList.contains('purchases');\n        if (!isTasks && !isPurchases) return;\n        document.querySelectorAll('.view').forEach((tab)=>{\n            tab.classList.remove('active');\n        });\n        e.target.classList.add('active');\n        const mainTitle = document.querySelector('.main-title');\n        mainTitle.classList.add('hidden');\n        container.classList.remove('hidden');\n        items.classList.add('faded');\n        setTimeout(()=>{\n            currentAdress = isTasks ? $b63be9b0371e788c$var$TASKSADRESS : $b63be9b0371e788c$var$PURCHASESADRESS;\n            getList(currentAdress);\n        }, 300);\n    });\n});\n\n\n//# sourceMappingURL=todo+.e3673e2a.js.map\n","const TASKSADRESS = 'https://696f53afa06046ce618642cd.mockapi.io/tasks';\nconst PURCHASESADRESS = 'https://696f53afa06046ce618642cd.mockapi.io/purchases';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  let itemsList = [];\n  let currentAdress = PURCHASESADRESS;\n\n  const header = document.querySelector('.header');\n  const container = document.querySelector('.container');\n  const title = document.querySelector('.title');\n  const loader = document.querySelector('.loader');\n  const data = document.querySelector('.data__input');\n  const save = document.querySelector('.data__btn');\n  const items = document.querySelector('.items');\n\n  async function getList(adress) {\n    if (adress === TASKSADRESS) {\n      title.textContent = 'Надо сделать:'\n    } else {\n      title.textContent = 'Надо купить:'\n    }\n    loader.classList.remove('not-view');\n\n    const response = await fetch(adress);\n    const dataList = await response.json();\n\n    if (dataList) {\n      itemsList = [];\n      dataList.forEach(item => {\n        item.important ? itemsList.unshift(item) : itemsList.push(item);\n      })\n      loader.classList.add('not-view');\n\n      renderItems();\n    } else {\n      itemsList = [];\n    }\n  };\n\n  function renderItems() {\n    items.innerHTML = '';\n    itemsList.forEach((item, i) => {\n      const itemText = `${item.text.slice(0, 1).toUpperCase()}${item.text.slice(1)}`;\n\n      const itemBlock = document.createElement('div');\n      itemBlock.setAttribute('id', item.id);\n      itemBlock.classList.add('items__block');\n\n      const itemsBlockTitle = document.createElement('span');\n      itemsBlockTitle.classList.add('items__block--title');\n      itemsBlockTitle.textContent = `${i + 1}. ${itemText}`;\n\n      const important = document.createElement('span');\n      important.classList.add('important');\n      important.innerHTML = item.important ? '★' : '☆';\n\n      if (item.important) {\n        important.classList.add('active');\n      }\n\n      const del = document.createElement('span');\n      del.classList.add('del');\n\n      itemBlock.append(itemsBlockTitle, important, del);\n      items.append(itemBlock);\n    });\n\n    data.value = '';\n\n    items.classList.remove('faded');\n  };\n\n\n  async function setItem(adress) {\n    if (data.value === '') {\n      data.focus();\n    } else {\n      const item = data.value;\n\n      await fetch(adress, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json' },\n        body: JSON.stringify({ text: item })\n      });\n\n      getList(adress);\n    }\n  };\n\n  async function deleteItem(adress, taskId) {\n    await fetch(`${adress}/${taskId}`, {\n      method: 'DELETE'\n    });\n    getList(adress);\n  };\n\n  async function madeImportant(adress, taskId, status) {\n    await fetch(`${adress}/${taskId}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ important: status })\n    });\n\n    getList(adress);\n  };\n\n  document.addEventListener('click', (e) => {\n    const el = e.target;\n    const parent = el.closest('.items__block');\n\n    if (!parent) return;\n\n    const id = parent.getAttribute('id');\n\n    if (el.classList.contains('del')) {\n      parent.classList.add('delete');\n      deleteItem(currentAdress, id);\n    }\n\n    if (el.classList.contains('important')) {\n      el.classList.toggle('active');\n      const status = el.classList.contains('active');\n      el.innerHTML = status ? '★' : '☆';\n      madeImportant(currentAdress, id, status);\n    }\n\n    if (el.classList.contains('items__block--title')) {\n      el.classList.toggle('expanded');\n    }\n  });\n\n  save.onclick = () => setItem(currentAdress);\n  data.onkeydown = (e) => {\n    if (e.key === 'Enter') {\n      setItem(currentAdress);\n    }\n  };\n\n  header.addEventListener('click', (e) => {\n    const isTasks = e.target.classList.contains('tasks');\n    const isPurchases = e.target.classList.contains('purchases');\n\n    if (!isTasks && !isPurchases) return;\n\n    document.querySelectorAll('.view').forEach(tab => {\n      tab.classList.remove('active');\n    });\n\n    e.target.classList.add('active')\n\n\n    const mainTitle = document.querySelector('.main-title');\n    mainTitle.classList.add('hidden');\n    container.classList.remove('hidden');\n\n    items.classList.add('faded');\n\n    setTimeout(() => {\n      currentAdress = isTasks ? TASKSADRESS : PURCHASESADRESS;\n      getList(currentAdress);\n    }, 300);\n  }\n  );\n});\n\n"],"names":["$b63be9b0371e788c$var$TASKSADRESS","$b63be9b0371e788c$var$PURCHASESADRESS","window","addEventListener","itemsList","currentAdress","header","document","querySelector","container","title","loader","data","save","items","getList","adress","textContent","classList","remove","response","fetch","dataList","json","forEach","item","important","unshift","push","add","innerHTML","i","itemText","text","slice","toUpperCase","itemBlock","createElement","setAttribute","id","itemsBlockTitle","del","append","value","setItem","focus","method","headers","body","JSON","stringify","deleteItem","taskId","madeImportant","status","e","el","target","parent","closest","getAttribute","contains","toggle","onclick","onkeydown","key","isTasks","isPurchases","querySelectorAll","tab","mainTitle","setTimeout"],"version":3,"file":"todo+.e3673e2a.js.map"}